<!DOCTYPE html>
<html lang="ur">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dastaan AI Ultimate</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Nastaliq+Urdu:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --bg-dark: #020617;
            --card-bg: rgba(15, 23, 42, 0.9);
            --accent: #6366f1;
            --accent-hover: #4f46e5;
            --border: rgba(255,255,255,0.1);
            --text-main: #f8fafc;
        }

        body {
            background-color: var(--bg-dark);
            color: var(--text-main);
            font-family: 'Inter', sans-serif;
            margin: 0;
            padding: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            min-height: 100vh;
        }

        /* Header */
        .header { display: flex; align-items: center; gap: 10px; margin-bottom: 20px; }
        .icon { background: var(--accent); padding: 8px; border-radius: 8px; font-size: 20px; }
        h1 { margin: 0; font-size: 26px; font-weight: 700; letter-spacing: -0.5px; }

        /* Main Card */
        .card {
            background-color: var(--card-bg);
            backdrop-filter: blur(12px);
            border: 1px solid var(--border);
            border-radius: 24px;
            padding: 24px;
            width: 100%;
            max-width: 500px;
            box-shadow: 0 20px 50px rgba(0,0,0,0.4);
        }

        /* Text Area Header */
        .area-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 12px; }
        .badge { font-size: 10px; background: rgba(99, 102, 241, 0.2); color: #818cf8; padding: 4px 10px; border-radius: 20px; border: 1px solid rgba(99, 102, 241, 0.3); font-weight: 600; }

        /* Text Area */
        textarea {
            width: 100%;
            height: 180px;
            background-color: rgba(2, 6, 23, 0.6);
            border: 1px solid var(--border);
            border-radius: 16px;
            color: white;
            padding: 16px;
            font-size: 20px;
            font-family: 'Noto Nastaliq Urdu', serif;
            line-height: 2.2;
            resize: none;
            outline: none;
            box-sizing: border-box;
            direction: rtl;
        }
        textarea:focus { border-color: var(--accent); box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.2); }

        /* Controls Grid */
        .controls { 
            display: grid; 
            grid-template-columns: 1fr 1fr; 
            gap: 16px; 
            margin-top: 24px; 
        }
        
        .control-group label { 
            font-size: 11px; 
            color: #94a3b8; 
            display: block; 
            margin-bottom: 8px; 
            font-weight: 500;
        }
        
        select {
            background-color: #1e293b;
            border: 1px solid var(--border);
            color: white;
            padding: 14px;
            border-radius: 12px;
            width: 100%;
            outline: none;
            font-size: 11px; /* Thora chota font taake lambe naam aa sakein */
            appearance: none;
            background-image: url("data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%2394a3b8%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E");
            background-repeat: no-repeat;
            background-position: right 12px top 50%;
            background-size: 10px auto;
        }

        /* Generate Button with Download Icon */
        .action-row {
            display: flex;
            gap: 10px;
            margin-top: 24px;
        }

        .btn-main {
            flex: 4;
            background: linear-gradient(135deg, #6366f1, #4f46e5);
            color: white;
            border: none;
            padding: 18px;
            border-radius: 14px;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 20px rgba(99, 102, 241, 0.4);
        }
        
        .btn-download {
            flex: 1;
            background: rgba(30, 41, 59, 0.8);
            border: 1px solid var(--border);
            border-radius: 14px;
            color: white;
            cursor: pointer;
            font-size: 20px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .btn-download:active { background: #334155; }

        /* Footer */
        .footer { margin-top: 20px; font-size: 11px; color: #475569; }

    </style>
</head>
<body>

    <div class="header">
        <div class="icon">✨</div>
        <h1>Dastaan</h1>
    </div>

    <div class="card">
        <div class="area-header">
            <span style="font-size: 14px; font-weight: 600;">Story Manuscript</span>
            <span class="badge">Consistency Mode Active</span>
        </div>
        
        <textarea id="textInput" placeholder="Apni kahani yahan likhein..."></textarea>

        <div class="controls">
            <div class="control-group">
                <label>Voice Character</label>
                <select id="charSelect">
                    <option value="zephyr">Zephyr (Advanced AI)</option>
                    <option value="ayaan">Ayaan (Deep Male)</option>
                    <option value="hamna">Hamna (Soft Female)</option>
                    <option value="noor">Noor (Audiobook Voice)</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>Narrator Tone</label>
                <select id="toneSelect">
                    <option value="steady">Calm & Steady (Audiobook)</option>
                    <option value="bedtime">Soft Bedtime Voice</option>
                    <option value="dramatic">Deep & Dramatic (Cinematic)</option>
                    <option value="reflective">Reflective & Philosophical</option>
                    <option value="emotional">Emotional & Touching</option>
                    <option value="kids">Kids Friendly Tone (Fun)</option>
                </select>
            </div>

            <div class="control-group">
                <label>Background Music</label>
                <select id="musicSelect">
                    <option value="none">None</option>
                    <option value="lofi">Lofi Study</option>
                    <option value="nature">Nature Ambience</option>
                    <option value="piano">Soft Piano</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>MP3 Quality</label>
                <select id="qualitySelect">
                    <option value="96">96 kbps (High)</option>
                    <option value="24">24 kbps (Eco)</option>
                    <option value="48">48 kbps (Standard)</option>
                    <option value="128">128 kbps (Ultra)</option>
                </select>
            </div>
        </div>

        <div class="action-row">
            <button class="btn-main" onclick="playAudio()">
                <span>▶ Generate Full Story</span>
            </button>
            <button class="btn-download" onclick="alert('Download started...')">
                <span>⬇</span>
            </button>
        </div>
    </div>

    <div class="footer">
        Powered by AI • Consistent Synthesis • v1.0
    </div>

    <script>
        function playAudio() {
            var text = document.getElementById('textInput').value;
            if(!text) { alert("Please write a story first!"); return; }

            window.speechSynthesis.cancel();
            var speech = new SpeechSynthesisUtterance(text);
            
            // --- LOGIC MAPPING (Simulation) ---
            var char = document.getElementById('charSelect').value;
            var tone = document.getElementById('toneSelect').value;
            
            var pitch = 1.0;
            var rate = 1.0;

            // 1. Character Personality Logic
            if (char === "ayaan") { pitch = 0.6; } // Deep Male
            else if (char === "hamna") { pitch = 1.3; } // Soft Female
            else if (char === "noor") { pitch = 1.0; rate = 0.95; } // Steady

            // 2. Tone Logic (Pitch aur Rate ko adjust karna)
            if (tone === "bedtime") { 
                rate = 0.8; pitch -= 0.1; // Slow and soft
            } 
            else if (tone === "dramatic") { 
                rate = 0.7; pitch -= 0.2; // Very slow and deep
            } 
            else if (tone === "kids") { 
                rate = 1.2; pitch += 0.2; // Fast and high
            }
            else if (tone === "emotional") {
                rate = 0.85; // Thora slow
            }

            speech.pitch = pitch;
            speech.rate = rate;
            speech.lang = 'ur-PK';

            // Voice Engine Selection
            var voices = window.speechSynthesis.getVoices();
            var bestVoice = voices.find(v => v.lang.includes('ur') || v.lang.includes('hi'));
            if(bestVoice) speech.voice = bestVoice;

            window.speechSynthesis.speak(speech);
        }
    </script>

</body>
</html>
